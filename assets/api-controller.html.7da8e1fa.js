import{r as i,o as r,c as p,b as e,a,w as t,F as l,d as o,e as n}from"./app.d8b64c72.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";const u={},d=o(`<h2 id="using-gridify-in-api-controllers" tabindex="-1"><a class="header-anchor" href="#using-gridify-in-api-controllers" aria-hidden="true">#</a> Using Gridify in API Controllers</h2><p>One of the best use cases for this library is in ASP.NET APIs when you need to use string-based filtering conditions to filter data, sort it by a field name, or apply pagination concepts to your lists and return pageable, data grid ready information from any repository or database. However, we are not limited to ASP.NET projects, and this library can be used in any .NET project and on any type of collection.</p><p>In the following example, we&#39;ll provide a simple implementation that will help us understand the basic concepts of Gridify.</p><h3 id="descibing-scenario" tabindex="-1"><a class="header-anchor" href="#descibing-scenario" aria-hidden="true">#</a> Descibing Scenario</h3><p>Let&#39;s imagine you have an API that returns a list of users. You want to use this API in your client-side application to show a list of users.</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">// UserController</span>
<span class="token comment">// ...</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span> <span class="token function">GetUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// context can be Entity Framework, a repository, or whatever.</span>
    <span class="token keyword">return</span> context<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><em>However, there are a few problems:</em></p><ul><li>The end-user may want to sort the list by name, age, or any other property.</li><li>The end-user may want to filter the list by name, age, or any other property.</li><li>Fetching the entire list of users is not efficient, so you need to add pagination.</li><li>Returning a list of page size N is not enough. You also need to know the total number of users.</li></ul><p>Implementing these features is not easy, or at least, not clean. If you want to support all reasonable properties, you need to write a lot of code with if-else statements. This is where Gridify comes in.</p><h3 id="solving-problems-using-gridify" tabindex="-1"><a class="header-anchor" href="#solving-problems-using-gridify" aria-hidden="true">#</a> Solving problems using Gridify</h3><p>With Gridify, you can simplify your code and implement the required features in a few lines:</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token return-type class-name">Paging<span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span> <span class="token function">GetUsers</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromQuery</span></span><span class="token punctuation">]</span> <span class="token class-name">GridifyQuery</span> query<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> context<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">Gridify</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Gridify handles all the complexity behind the scenes.</p><h3 id="what-is-paging-return-value" tabindex="-1"><a class="header-anchor" href="#what-is-paging-return-value" aria-hidden="true">#</a> What is Paging return value?</h3><p>The Paging class is simply a generic Data Transfer Object (DTO) that has two properties:</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Count <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> Data <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>Count</code> indicates the total number of records, while <code>Data</code> contains the records on the current page.</p><h3 id="what-is-gridifyquery" tabindex="-1"><a class="header-anchor" href="#what-is-gridifyquery" aria-hidden="true">#</a> What is GridifyQuery?</h3><p><code>GridifyQuery</code> is a class that represents the query parameters passed to the <code>Gridify</code> method.</p>`,19),h=n("Learn more about GridifyQuery"),m=n("."),g=o(`<h3 id="sample-request-query-string" tabindex="-1"><a class="header-anchor" href="#sample-request-query-string" aria-hidden="true">#</a> Sample request query string</h3><p>Please note that this URL is not encoded. Always remember to encode query strings before passing them to your APIs.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://exampleDomain.com/api/GetUsers?
          pageSize=100&amp;
          page=1&amp;
          orderBy=FirstName&amp;
          filter=Age&gt;10
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Also, we can totally ignore GridifyQuery, and just use pagination default values which is <code>pageSize=20</code> and <code>page=1</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://exampleDomain.com/api/GetUsers
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="more-information" tabindex="-1"><a class="header-anchor" href="#more-information" aria-hidden="true">#</a> More Information</h3>`,6),y={class:"custom-container tip"},b=e("p",{class:"custom-container-title"},"TIP",-1),f=n("If you want to control which fields are supported for filtering or ordering, you can use the "),k=n("GridifyMapper"),_=n(" class."),w=n("All "),v=n("Gridify extension methods"),x=n(" accept a "),G=e("code",null,"GridifyMapper",-1),I=n(" instance as a parameter."),q=n("If you want to learn more about the "),T=n("filtering"),P=n(" and "),A=n("ordering"),U=n(" syntax, be sure to read the related documentation.");function N(S,C){const s=i("RouterLink");return r(),p(l,null,[d,e("p",null,[a(s,{to:"/guide/gridifyQuery.html"},{default:t(()=>[h]),_:1}),m]),g,e("div",y,[b,e("ul",null,[e("li",null,[e("p",null,[f,a(s,{to:"/guide/gridifyMapper.html"},{default:t(()=>[k]),_:1}),_])]),e("li",null,[e("p",null,[w,a(s,{to:"/guide/extensions.html"},{default:t(()=>[v]),_:1}),x,G,I])]),e("li",null,[e("p",null,[q,a(s,{to:"/guide/filtering.html"},{default:t(()=>[T]),_:1}),P,a(s,{to:"/guide/ordering.html"},{default:t(()=>[A]),_:1}),U])])])])],64)}var Q=c(u,[["render",N]]);export{Q as default};
